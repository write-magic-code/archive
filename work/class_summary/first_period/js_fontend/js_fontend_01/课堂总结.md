# 01 现代前端框架

> 课程目的
>
> - 简单任务下，原始三件套的代码量足够复杂
> - 模糊了解模型和分层
> - 前端框架的特点

> 提示：对于`.html`，用编辑器打开以查看代码，用浏览器打开以查看页面效果。

## 写 HTML 很复杂

HTML 不复杂，但是哪怕一个中小型的企业项目，一个项目也至少有几百个 HTML 元素，元素的属性加起来上千个，因此不去寻求框架的帮助，无法维护。

[complex.html](./complex.html)，这是一个很简单的博客首页的代码，虽然它的代码量仍不及百度搜索页的一半，但是也有了惊人的三千行。

## 写 CSS 很复杂

因为前端开发中结构（HTML）和样式（CSS）分离的特性，CSS 的复杂度会随着项目的增长而指数级增长。虽然 CSS 中有一些逻辑和运算，但是这大部分都是现代 CSS 特性。在实际项目中，很可能要兼容远古浏览器或是工具链，因此编写现代 CSS 是不现实的。

[complex.css](./complex.css)，这是一个名叫 react-tweet 的项目的 CSS，它展示了一条帖子卡片的样式，代码量已经来到了 700 行，而在一个实际项目中，这样的小的组件可能有几十个。

## 写 JavaScript 很复杂

虽然 JavaScript 很有表现力，但是在实际项目中，需要一个规范来组织代码，限制语言中不好的部分，让代码更好维护，这就是框架的作用。

那么现在的问题就是：框架如何解决这些问题？

## 分层

许多框架都自称用了某种模型（MVC、MVVM），但 MVC、MVVM 也好，无非是几个概念的拆分和重新组合，在工业大生产中这些概念大部分时候也无人在乎。

> 好的框架设计应当是自然的，即接受了其设计后，可以轻松的做对事情，而做错事情的代价是高昂的。而非在使用中时刻提醒你要按照某种模式来做事情。

1. **数据 data**：一般来讲，一个软件处理了数据（即有 IO）才能获得其意义，因此数据是软件之核心，而前端处于最后的展示环节。
2. **状态 state**：一个页面若是活动则不可能无状态，状态一般由用户的交互以及数据的变化而派生出来，状态之派生及其管理、联动、追溯以及与其他层的互动——这些都是状态层的工作。
3. **界面 ui**：最终呈现给用户的界面，常常由数据和状态驱动。
4. **组件 component**：一个页面根据功能划分为若干组件，组件只管理自己的状态，实现一定程度上的模块化及复用。

## 看一眼

你以为写前端很简单，学完三件套就能上。  

那现在我们就来看，纯三件套的条件下，一个小型前端项目是怎么烂掉的。
> 烂掉：指不可维护，不可阅读，不可扩展，不可复用。这份代码在彻底烂掉之时，就停止了生命——除了运行它的尸体，没人能拿他做任何事情。

一个烂掉的项目：  
 [look.html](./look.html)

这展示了一个项目烂掉的原因：缺乏合理的组织和抽象，导致代码难以维护。

**手工实现**一个最简单的框架，看看框架是如何解决这些问题的：  

 [look2.html](./look2.html)

这个最原始的框架解决了状态和界面的分离，可以让代码更好维护一点，但是还远远不足以支撑一个现代的前端项目。而大部分主流框架不仅能解决这些问题，甚至体验上更好，比如：

React
 [look.jsx](./look.jsx)

Vue
 [look.vue](./look.vue)

现代前端开发中，框架是必须的了。框架基本为我们提供了如下功能：
- 动态渲染：状态（数据 & 结构）驱动页面更新
- 组件化开发：抽象与复用
- 状态管理：全局数据管理
- 组件间通信：组件交换数据

如 React、Vue 等框架，都符合上述描述。想开发现代前端的时候，务必找到能满足上述特点的框架。

后面的课程中，会以 React 为例，讲解现代前端开发的基础。
